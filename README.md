# Проект: Аналіз продажів та клієнтів

Цей проект демонструє базові навички роботи з **PostgreSQL**: створення таблиць, CRUD-операцій, агрегатних запитів, `VIEW`, зведених таблиць та графіків для аналізу продажів.

---

## 1. Структура бази даних

Були створені наступні таблиці:

- **products1** – товари (назва, категорія, ціна)
- **customers1** – клієнти (ім'я, email, місто)
- **orders1** – замовлення (клієнт, дата)
- **order_items1** – позиції замовлень (товар, кількість)

---

## 2. CRUD операції

- **CREATE** – додавання нового товару.
- **READ** – отримання списку всіх товарів.
- **UPDATE** – зміна ціни товару.
- **DELETE** – видалення товару з бази.

Ці операції показують основи управління даними в таблицях.

---

## 3. Агрегатні запити

### 3.1 Кількість замовлень по клієнтах

- Було пораховано, скільки замовлень зробив кожен клієнт.
- Приклад результату:

| customer_name | orders_count |
|---------------|-------------|
| Iryna         | 2           |
| Svitlana      | 1           |
| Taras         | 1           |

---

### 3.2 Сумарна вартість кожного замовлення

- Розраховано `order_total = SUM(quantity * price)` для кожного замовлення.
- Дозволяє визначити **найдорожчі замовлення**.

---

### 3.3 Топ-3 дорогих товарів

- За ціною:
  - Виведено топ-3 товари загалом.
  - Виведено топ-3 товарів у кожній категорії.

---

## 4. View для аналізу клієнтів

Було створено **view `customer_summary`**, яке включає:

- Ім’я клієнта
- Кількість замовлень (`orders_count`)
- Загальні витрати клієнта (`total_spent`)

Це дозволяє швидко отримати звіт без повторного написання складних запитів:

```sql
SELECT *
FROM customer_summary
ORDER BY total_spent DESC;
